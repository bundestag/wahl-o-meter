<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>
    Wahl-O-Meter-Daten: Metadaten
  </title>
  <script src="src/viewer.js" type="text/javascript"></script>
  <script src="src/converter.js" type="text/javascript"></script>

  <script type="text/javascript">
    load_mergedData_json("data/occasions.json", function(occasions) {
      var loadedData = {
        additional: []
      };
      var finalFunction = undefined;
      for (var i = 0; i < occasions.length; i++) { //all WOMs
        if (i == occasions.length - 1) {
          finalFunction = function(loadedData) {
            var metaData = {
              "occasions": occasions,
              "loadedData": loadedData
            };
            console.log(metaData);
            write_metadata(metaData);
          }
        }
        load_additional_data(loadedData, occasions[i].date.substring(0, 4), occasions[i].territory, finalFunction);
      }
    });
  </script>
</head>

<body></body>

</html>
